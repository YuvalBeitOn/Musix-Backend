(this["webpackJsonpmusix-frontend"]=this["webpackJsonpmusix-frontend"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(26),c=n.n(s),i=(n(54),n(4)),o=n(7),l=n(8),u=n(10),d=n(9),p=(n(55),n(12)),j=n(11),m=n(23),h=(n(56),n(5)),f=n(2),x=n.n(f),b=n(3),g=n(14);n(62);var O={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},findMatchLowerCase:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),e.includes(t)},showTime:function(e){var t,n;return e>=60?(t=parseInt(e/60).toString(),n=parseInt(e-60*t).toString().padStart(2,"0")):(t="00",n=parseInt(e).toString().padStart(2,"0")),"".concat(t,":").concat(n)},greetByTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Good",t=(new Date).getHours();return"".concat(e,t<12?" morning":t<17?" afternoon":" evening")},sortNames:function(e){return e.sort((function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n<r?-1:n>r?1:0}))}},v=n(20),y=n.n(v),N="/api/",w=y.a.create({withCredentials:!0}),k=function(e,t){return C(e,"GET",t)},S=function(e,t){return C(e,"POST",t)},A=function(e,t){return C(e,"PUT",t)},U=function(e,t){return C(e,"DELETE",t)};function C(e){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(x.a.mark((function e(t){var n,r,a,s=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"get",r=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,w({url:"".concat(N).concat(t),method:n,data:r});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Error from HTTPSERVICE"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var E={getById:function(e){return k("user/".concat(e))},remove:function(e){return U("user/".concat(e))},save:function(e){return e._id?function(e){return L.apply(this,arguments)}(e):function(e){return I.apply(this,arguments)}(e)},login:function(e){return R.apply(this,arguments)},signup:function(e){return T.apply(this,arguments)},logout:function(){return B.apply(this,arguments)},getMiniUser:function(){var e=F(),t=e._id,n=e.fullName,r=e.imgUrl;return{_id:t,fullName:n,imgUrl:r}},guestMode:function(){return{email:"guest@gmail.com",password:"123"}},getUsers:function(){return k("user")}};function R(){return(R=Object(b.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("auth/login",t);case 2:return n=e.sent,e.abrupt("return",X(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(b.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("auth/signup",t);case 2:return n=e.sent,e.abrupt("return",X(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(b.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S("auth/logout");case 4:sessionStorage.clear();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(b.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S("user/",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(b.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("user/".concat(t._id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function F(){return JSON.parse(sessionStorage.getItem("user"))}var V={query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return k("mix".concat(e));return k("mix")},getById:function(e){return k("mix/".concat(e))},remove:function(e){return U("mix/".concat(e))},save:function(e){return e._id?function(e){return P.apply(this,arguments)}(e):function(e){return q.apply(this,arguments)}(e)},getEmptyMix:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"New Mix",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mix description",r={name:t,description:n,genre:"latin",views:0,imgUrl:"defualtImg.jpg",likes:0,createdBy:e,tags:[],likedByUsers:[],songs:[]};return r}};function q(){return(q=Object(b.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S("mix/",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(b.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("mix/".concat(t._id),t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(80);var Q=n(0),D=function(e){return Object(Q.jsx)("div",{className:"loader-container flex center-center",children:Object(Q.jsx)("div",{className:"loader-cmp"})})};function K(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.query(e);case 3:r=t.sent,n({type:"SET_MIXES",mixes:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("ERROR: CANNOT LOAD MIXES"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}var W=function(){var e=Object(b.a)(x.a.mark((function e(t){var n,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"casep_pre","yuvalbeiton",n="https://api.cloudinary.com/v1_1/".concat("yuvalbeiton","/image/upload"),(r=new FormData).append("file",t.target.files[0]),r.append("upload_preset","casep_pre"),e.prev=6,e.next=9,y.a.post(n,r);case 9:return a=e.sent,e.abrupt("return",a.data);case 13:e.prev=13,e.t0=e.catch(6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),_=(n(82),function(e){var t=e.selectedVal,n=e.save;return Object(Q.jsx)("select",{value:t,onChange:function(e){return n(e)},className:"select-genre",name:"genre",children:["latin","pop","rock","dance","israeli"].map((function(e){return Object(Q.jsx)("option",{value:e,children:e},e)}))})}),G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={mix:null,isLoading:!1},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return{mix:Object(i.a)(Object(i.a)({},e.mix),{},Object(g.a)({},r,a))}}),(function(){return console.log("mix:",e.state.mix)}))},e.saveMix=function(){var t=Object(b.a)(x.a.mark((function t(n){var r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=e.state.mix,t.next=4,e.props.addMix(r);case 4:a=e.props.newMix._id,e.props.history.push("/app/mix/".concat(a)),e.props.closeModal();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onUploadImg=function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,W(n);case 4:r=t.sent,e.setState((function(e){return{mix:Object(i.a)(Object(i.a)({},e.mix),{},{imgUrl:r.url}),isLoading:!1}}),(function(){return console.log("state:",e.state)})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Cant upload your image!!",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=E.getMiniUser(),n=V.getEmptyMix(t);this.setState({mix:n},(function(){return console.log("this is your new mix",e.state.mix)}))}},{key:"render",value:function(){var e=this.state.mix;return e?Object(Q.jsxs)("section",{className:"create-mix",children:[Object(Q.jsx)("button",{className:"close-btn",onClick:this.props.closeModal,children:Object(Q.jsx)("i",{className:"fas fa-times"})}),Object(Q.jsx)("h3",{className:"create-mix-title",children:"Create your own mix!"}),Object(Q.jsxs)("form",{onSubmit:this.saveMix,className:"form-mix flex column wrap",children:[Object(Q.jsxs)("div",{className:"upload-img-container flex column align-center",children:[Object(Q.jsx)("label",{htmlFor:"imgUploader",children:Object(Q.jsx)("img",{className:"uploadImg",src:e.imgUrl||"data:image/png;base64,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",alt:"mix"})}),Object(Q.jsx)("input",{hidden:!0,type:"file",name:"img-uploader",id:"imgUploader",onChange:this.onUploadImg}),Object(Q.jsx)("div",{children:e.imgUrl?"":"Upload Image"})]}),Object(Q.jsx)("label",{htmlFor:"mixName",children:"Name:"}),Object(Q.jsx)("input",{id:"mixName",type:"text",onChange:this.handleChange,name:"name",value:e.name,placeholder:"Enter mix name"}),Object(Q.jsx)("label",{htmlFor:"mixGenre",children:"Genre:"}),Object(Q.jsx)(_,{selectedVal:e.genre,save:this.handleChange}),Object(Q.jsx)("label",{htmlFor:"mixDescription",children:"Description:"}),Object(Q.jsx)("textarea",{rows:"3",cols:"30",id:"mixDescription",onChange:this.handleChange,type:"text",name:"description",value:e.description,placeholder:"Your description..."}),Object(Q.jsx)("button",{className:"create-mix-btn flex justify-center",children:"Create mix \u266b"})]})]}):Object(Q.jsx)(D,{})}}]),n}(r.Component);var J={addMix:function(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.save(e);case 3:r=t.sent,n({type:"ADD_MIX",mix:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("ERROR: CANNOT ADD MIX"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},Y=Object(p.g)(Object(h.b)((function(e){return{newMix:e.mixReducer.mix}}),J)(G));function H(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.login(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("ERROR: CANNOT LOGIN USER"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function z(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.signup(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("ERROR: CANNOT SIGNUP USER"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Z(){return function(){var e=Object(b.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=E.guestMode(),e.next=4,E.login(n);case 4:r=e.sent,t({type:"SET_USER",user:r}),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(0),console.error("ERROR: CANNOT LOGIN GUEST MODE"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function $(e){var t=Object(r.useState)(!1),n=Object(m.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),i=Object(m.a)(c,2),o=i[0],l=i[1],u=Object(r.useState)(!1),d=Object(m.a)(u,2),p=d[0],f=d[1],x=Object(h.d)((function(e){return e.userReducer.loggedInUser})),b=Object(h.c)(),g=function(t){return l(!1),"profile"===t?e.history.push("/user/".concat(x._id)):"logout"===t?b((function(e){try{E.logout(),e({type:"SET_USER",user:null})}catch(t){throw console.error("ERROR: CANNOT LOGOUT USER"),t}})):void 0},O=function(){return Object(Q.jsx)(r.Fragment,{children:Object(Q.jsxs)("div",{className:"nav-profile-option absolute",children:[Object(Q.jsxs)("div",{className:"profile-btn flex wrap space-around align-center",onClick:function(){return g("profile")},children:[Object(Q.jsx)("i",{className:"fal icon fa-user-alt"})," Profile"]}),Object(Q.jsxs)("div",{className:"profile-btn btn-logout flex wrap space-around align-center",onClick:function(){return g("logout")},children:[Object(Q.jsx)("i",{className:"fad fa-sign-out"})," logout"]})]})})},v=function(){return Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsx)(j.c,{className:"home-link",exact:!0,to:"/",children:"Home"}),Object(Q.jsx)(j.c,{className:"signup-link",exact:!0,to:"/signup",children:"Sign Up"})]})},y=function(){return Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsx)(j.c,{className:"mixes-link",exact:!0,to:"/app/mixes",children:"Mixes"}),Object(Q.jsx)("span",{user:"true",className:"create-mix-cmp",onClick:function(){return s(!a)},children:"Create Mix"}),!p&&Object(Q.jsx)("span",{children:"|"}),Object(Q.jsxs)("div",{className:"profile-link relative flex ".concat(p?"center-center":"align-center"),children:[Object(Q.jsx)("i",{onClick:function(){return l(!o)},className:"far fa-user-circle"}),o&&Object(Q.jsx)(O,{})]})]})},N=function(){return Object(Q.jsxs)(r.Fragment,{children:[a&&Object(Q.jsx)(Y,{closeModal:function(){return s(!a)}}),a&&Object(Q.jsx)("div",{className:"back-drop-layer",onClick:function(){return s(!a)}})]})};return Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsxs)("header",{className:"app-header flex space-between align-center",children:[Object(Q.jsxs)(j.c,{className:"logo-container flex align-center",exact:!0,to:x?"/app":"/",children:[Object(Q.jsx)("i",{className:"fab fa-spotify"}),Object(Q.jsxs)("h1",{children:["Musix",Object(Q.jsx)("span",{className:"copyrights",children:"\xa9"})]})]}),Object(Q.jsx)("i",{onClick:function(){f(!p)},className:"far icon-hamburger fa-".concat(p?"times":"bars")}),Object(Q.jsx)("nav",{className:"nav-links flex align-center",style:{display:p&&"flex"},children:x&&Object(Q.jsx)(y,{})||Object(Q.jsx)(v,{})})]}),p&&Object(Q.jsx)("div",{className:"back-drop-layer",onClick:function(){return f(!1)}}),o&&Object(Q.jsx)("div",{className:"back-drop-layer",onClick:function(){return l(!1)}}),Object(Q.jsx)(N,{})]})}var ee=$=Object(p.g)($),te=n.p+"static/media/guy.645256ab.jfif",ne=n.p+"static/media/yuval.f4999f32.jpg";n(84);function re(e){return e.mix?null:Object(Q.jsx)("footer",{className:"app-footer ",children:Object(Q.jsxs)("div",{className:"main-footer container flex wrap ",children:[Object(Q.jsx)("div",{className:"logo-main",children:Object(Q.jsxs)(j.c,{className:"logo-container flex",exact:!0,to:"/app",children:[Object(Q.jsx)("i",{className:"fab fa-spotify"}),Object(Q.jsxs)("h1",{children:["Musix",Object(Q.jsx)("span",{className:"copyrights",children:"\xa9"})]})]})}),Object(Q.jsxs)("ul",{className:"footer-links flex column",children:[Object(Q.jsx)(j.c,{className:"home-link",exact:!0,to:"/",children:"Home"}),Object(Q.jsx)(j.c,{className:"mixes-link",exact:!0,to:"/app/mixes",children:"Mixes"}),Object(Q.jsx)(j.c,{className:"signup-link",exact:!0,to:"/signup",children:"Sign Up"}),Object(Q.jsx)(j.c,{exact:!0,to:"/user/52",children:"Profile"})]}),Object(Q.jsx)("div",{className:"footer-content flex column",children:Object(Q.jsxs)("span",{className:"copyrights",children:["\xa9 copyrights musix 2021 ",Object(Q.jsxs)("span",{children:[Object(Q.jsx)("i",{className:"fal fa-globe-asia"})," Israel"]})]})})]})})}var ae=re=Object(h.b)((function(e){return{mix:e.mixReducer.mix}}))(re);n(85);var se={loginGuestMode:Z},ce=Object(h.b)(void 0,se)((function(e){function t(){return(t=Object(b.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loginGuestMode();case 3:e.history.push("/app/mix"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("unbale to login as a guest");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}var n=function(){return Object(Q.jsx)("div",{className:"hero-home-page",children:Object(Q.jsxs)("div",{className:"hero-content  flex wrap column center-center",children:[Object(Q.jsx)("h1",{className:"hero-content-title",children:"Listening is everything"}),Object(Q.jsx)("h6",{className:"hero-content-description",children:"Millions of songs and podcasts. No credit card needed."}),Object(Q.jsxs)("div",{className:"hero-content-controls flex center-center wrap",children:[Object(Q.jsx)("button",{onClick:function(){return function(){return t.apply(this,arguments)}()},className:"btn-green",children:"Try as guest!"}),Object(Q.jsx)("button",{onClick:function(){return e.history.push("/signup")},className:"btn-green",children:"Login"})]})]})})},r=function(){return Object(Q.jsxs)("div",{className:"lasted-mixes",children:[Object(Q.jsx)("h2",{className:"lasted-mix-title",children:"Lasted mix"}),Object(Q.jsxs)("div",{className:"lasted-mix-container container flex wrap center-center ",children:[Object(Q.jsxs)("div",{className:"lasted-mix-box flex column center-center",children:[Object(Q.jsx)("img",{src:"http://res.cloudinary.com/yuvalbeiton/image/upload/v1614525260/Scorpion_by_Drake_bhx2xx.jpg",alt:"img mix"}),Object(Q.jsx)("h3",{className:"mix-title",children:"Drake - New Album"}),Object(Q.jsx)("h5",{className:"mix-genre",children:"Pop"})]}),Object(Q.jsxs)("div",{className:"lasted-mix-box flex column center-center",children:[Object(Q.jsx)("img",{src:"https://res.cloudinary.com/yuvalbeiton/image/upload/v1614524678/edb5f5ee508095cd84d5ca2a12629bbc.822x822x1_xazqbk.png",alt:"img mix"}),Object(Q.jsx)("h3",{className:"mix-title",children:"Maluma - The Hits"}),Object(Q.jsx)("h5",{className:"mix-genre",children:"Latin"})]})]})]})},a=function(){return Object(Q.jsx)("div",{className:"features",children:Object(Q.jsxs)("div",{className:"features-container",children:[Object(Q.jsx)("h2",{className:"title-feature",children:"Make the most of Musix"}),Object(Q.jsxs)("div",{className:"feature-content flex wrap center-center",children:[Object(Q.jsxs)("div",{className:"feature-box feature-box-1",children:[Object(Q.jsx)("h3",{className:"feature-box-title",children:"Manage your account"}),Object(Q.jsxs)("p",{className:"feature-box-paragraph",children:[Object(Q.jsx)("span",{children:"Edit your profile, change your password,"})," ",Object(Q.jsx)("span",{children:"and update your payment information."})]}),Object(Q.jsx)("h6",{className:"feature-box-link",children:"Manage account"})]}),Object(Q.jsxs)("div",{className:"feature-box feature-box-2",children:[Object(Q.jsx)("h3",{className:"feature-box-title",children:"Get our free app"}),Object(Q.jsxs)("p",{className:"feature-box-paragraph",children:[Object(Q.jsx)("span",{children:"Seamlessly listen to music you love. "}),Object(Q.jsx)("span",{children:"Download the Spotify app for your computer."})]}),Object(Q.jsx)("h6",{className:"feature-box-link",children:"Download desktop app"})]}),Object(Q.jsxs)("div",{className:"feature-box feature-box-3",children:[Object(Q.jsx)("h3",{className:"feature-box-title",children:"Listen on the web"}),Object(Q.jsxs)("p",{className:"feature-box-paragraph",children:[Object(Q.jsx)("span",{children:"To play and share music without the app,"}),Object(Q.jsx)("span",{children:" all within your browser, go to"})]}),Object(Q.jsx)("h6",{className:"feature-box-link",children:"Start listen"})]})]})]})})};return Object(Q.jsxs)("section",{className:"home-page",children:[Object(Q.jsx)(n,{}),Object(Q.jsx)(r,{}),Object(Q.jsx)(a,{}),Object(Q.jsxs)("div",{className:"developer-box ",children:[Object(Q.jsx)("h2",{className:"developer-title",children:"About the developers"}),Object(Q.jsxs)("div",{className:"flex center-center wrap",children:[Object(Q.jsxs)("div",{className:"developer flex center-center",children:[Object(Q.jsx)("img",{alt:"Guy",src:te}),Object(Q.jsx)("p",{children:"Guy Indepurker"}),Object(Q.jsxs)("a",{href:"https://www.linkedin.com/in/guy-indepurker-5778091a4/",children:[" ",Object(Q.jsx)("i",{className:"fab fa-linkedin"})]}),Object(Q.jsxs)("a",{href:"https://github.com/guyindepurker",children:[" ",Object(Q.jsx)("i",{className:"fab fa-github"})]})]}),Object(Q.jsxs)("div",{className:"developer flex center-center",children:[Object(Q.jsx)("img",{alt:"Yuval",src:ne}),Object(Q.jsx)("p",{children:"Yuval Beit On"}),Object(Q.jsxs)("a",{href:"https://www.linkedin.com/in/yuvalbeiton/",children:[" ",Object(Q.jsx)("i",{className:"fab fa-linkedin"})]}),Object(Q.jsxs)("a",{href:"https://github.com/YuvalBeitOn",children:[" ",Object(Q.jsx)("i",{className:"fab fa-github"})]})]})]})]})]})})),ie=n(21),oe=(n(86),n(29)),le=n.n(oe);n(88),n(89);function ue(e){var t=e.mix;return Object(Q.jsxs)("li",{className:"mix-preview flex column",children:[Object(Q.jsx)("img",{className:"mix-img",src:t.imgUrl,alt:"mix-img"}),Object(Q.jsx)("h2",{className:"mix-name",children:t.name}),Object(Q.jsx)("p",{className:"mix-desc",children:t.description}),Object(Q.jsxs)("div",{className:"details-container flex",children:[Object(Q.jsxs)("p",{className:"mix-likes",children:[Object(Q.jsx)("i",{className:"fas fa-heart"}),t.likes]}),Object(Q.jsxs)("p",{className:"mix-views",children:[Object(Q.jsx)("i",{className:"far fa-eye"}),t.views]})]})]})}n(90);var de=function(){return Object(Q.jsxs)("div",{className:"dont-match-res-cmp",children:[Object(Q.jsx)("i",{className:"fas fa-exclamation-circle"}),Object(Q.jsx)("p",{className:"err-msg",children:"Sorry we cant find results..."}),Object(Q.jsx)("h6",{className:"flex center-center",children:"Look for something else"})]})};function pe(e){var t=e.mixes;return Object(Q.jsx)("ul",{className:"mix-list clean-list flex wrap justify-center container",children:0===t.length&&Object(Q.jsx)(de,{})||t.map((function(e){return Object(Q.jsx)(j.b,{to:"/app/mix/".concat(e._id),children:Object(Q.jsx)(ue,{mix:e},e._id)},e._id)}))})}var je=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:null,mixesByGenre:null},e.loadMixes=Object(b.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadMixes(e.state.filterBy);case 2:e.mixByGenre();case 3:case"end":return t.stop()}}),t)}))),e.mixByGenre=function(){var t=e.props.mixes.reduce((function(e,t){return e[t.genre]||(e[t.genre]=[]),e[t.genre].push(t),e}),{});e.setState({mixesByGenre:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadMixes()}},{key:"genresNames",get:function(){var e=Object.keys(this.state.mixesByGenre).sort().filter((function(e){return"latin"!==e&&"pop"!==e}));return["latin","pop"].concat(Object(ie.a)(e))}},{key:"render",value:function(){var e=this,t=this.state.mixesByGenre;if(!t)return Object(Q.jsx)(D,{});var n=function(){return e.genresNames.map((function(e){return Object(Q.jsxs)("div",{className:"mix-genre-container flex column container",children:[Object(Q.jsxs)("div",{className:"mix-genre-header flex space-between align-center",children:[e&&Object(Q.jsx)("h3",{className:"heading-tertiary",children:e}),Object(Q.jsx)(j.b,{to:"/app/mixes?genre=".concat(e),children:Object(Q.jsxs)("span",{className:"show-more-btn",children:["Show more",Object(Q.jsx)("i",{className:"show-more-icon fas fa-arrow-right"})]})})]}),Object(Q.jsx)("div",{className:"genre-list-content",children:Object(Q.jsx)(pe,{mixes:t[e]},e)})]},e)}))};return Object(Q.jsx)("section",{className:"musix-app",children:Object(Q.jsx)(n,{})})}}]),n}(r.Component);var me={loadMixes:K},he=Object(h.b)((function(e){return{mixes:e.mixReducer.mixes}}),me)(je);n(91),n(92);function fe(e){var t=e.setSearch,n=e.placeholderTxt;return Object(Q.jsxs)("section",{className:"search-cmp",children:[Object(Q.jsx)("i",{className:"fal fa-search"}),Object(Q.jsx)("input",{type:"search",onInput:function(e){return t(e.target.value)},placeholder:n||"Search songs...",className:"search-input"})]})}n(93);var xe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:null,filterBySong:null},e.loadMixes=Object(b.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadMixes(e.state.filterBy);case 2:case"end":return t.stop()}}),t)}))),e.filterBySong=function(t){e.setState({filterBySong:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.mixes||this.loadMixes()}},{key:"componentDidUpdate",value:function(e){this.props.location.search!==e.location.search&&this.setState({filterBy:this.props.location.search},this.loadMixes)}},{key:"genresNames",get:function(){return["all mixes","latin","pop","rock","dance","israeli"]}},{key:"mixesToShow",get:function(){var e=this.props.mixes,t=this.state.filterBySong;return t?e.filter((function(e){return e.songs.some((function(e){return O.findMatchLowerCase(e.title,t)}))})):e}},{key:"render",value:function(){var e=this;if(!this.props.mixes)return Object(Q.jsx)(D,{});var t=function(){return Object(Q.jsx)("ul",{className:"genres-names-list clean-list flex wrap container space-around",children:e.genresNames.map((function(t,n){return Object(Q.jsx)("li",{onClick:function(){return e.props.history.push(0===n?"mixes":"mixes?genre=".concat(t))},className:"genre-name",children:t},t)}))})};return Object(Q.jsxs)("section",{className:"mixes",children:[Object(Q.jsx)("div",{className:"search-container",children:Object(Q.jsx)(fe,{placeholderTxt:"Look for songs on mixes",setSearch:this.filterBySong})}),Object(Q.jsx)(t,{}),Object(Q.jsx)(pe,{mixes:this.mixesToShow})]})}}]),n}(r.Component);var be={loadMixes:K},ge=Object(h.b)((function(e){return{mixes:e.mixReducer.mixes}}),be)(xe),Oe=(n(94),n(95),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={userToEdit:null,isLoading:!1,errMsg:null},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState((function(e){return{userToEdit:Object(i.a)(Object(i.a)({},e.userToEdit),{},Object(g.a)({},r,a))}}))},e.onUploadImg=function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,W(n);case 4:r=t.sent,e.setState((function(e){return{userToEdit:Object(i.a)(Object(i.a)({},e.userToEdit),{},{imgUrl:r.url}),isLoading:!1}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Cant upload your image!!");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.saveChanges=function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),(r=e.state.userToEdit).fullName){t.next=6;break}return t.abrupt("return",e.handleErrMsg("Must fill your name!"));case 6:if(!(r.fullName.length>23)){t.next=10;break}return t.abrupt("return",e.handleErrMsg("Your name max characters need to be at least lower from 23 letters!"));case 10:if(r.imgUrl){t.next=12;break}return t.abrupt("return",e.handleErrMsg("You must to upload img!"));case 12:return t.prev=12,e.handleErrMsg(null),t.next=16,e.props.saveUser(r);case 16:e.props.toggleUserEditor(),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(12),e.handleErrMsg("Some problem cant update your account try later...");case 22:case"end":return t.stop()}}),t,null,[[12,19]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.user;this.setState({userToEdit:Object(i.a)({},e)})}},{key:"componentWillUnmount",value:function(){this.setState({userToEdit:null})}},{key:"handleErrMsg",value:function(e){this.setState({errMsg:e})}},{key:"render",value:function(){var e=this.state,t=e.userToEdit,n=e.isLoading,r=e.errMsg;return t?Object(Q.jsxs)("form",{onSubmit:this.saveChanges,className:"user-to-edit flex column wrap center-center",children:[Object(Q.jsx)("label",{htmlFor:"name",children:"Full Name:"}),Object(Q.jsx)("input",{required:!0,type:"text",id:"name",value:t.fullName,name:"fullName",onChange:this.handleChange}),Object(Q.jsx)("label",{htmlFor:"imgUploader",children:"Avatar:"}),Object(Q.jsx)("label",{htmlFor:"imgUploader",children:(n?"Upload....":Object(Q.jsx)("img",{className:"img-user",src:t.imgUrl,alt:"user image"}))||Object(Q.jsx)("i",{className:"img-user-upload fas fa-cloud-upload-alt"})}),Object(Q.jsx)("input",{hidden:!0,type:"file",name:"img-uploader",id:"imgUploader",onChange:this.onUploadImg}),Object(Q.jsx)("h5",{className:"err-msg",children:r}),Object(Q.jsx)("button",{type:"submit",className:"btn-primary",children:"Save Changes"}),Object(Q.jsx)("button",{type:"close",onClick:this.props.toggleUserEditor,className:"btn-primary",children:"Cancel"})]}):Object(Q.jsx)(D,{})}}]),n}(r.Component));var ve={saveUser:function(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.save(e);case 3:r=t.sent,n({type:"SET_USER",user:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("ERROR: CANNOT SAVE USER"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},ye=Oe=Object(h.b)((function(e){return{user:e.userReducer.loggedInUser}}),ve)(Oe),Ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isEdit:!1},e.toggleUserEditor=function(){e.setState((function(e){return{isEdit:!e.isEdit}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"userKeys",get:function(){var e=le.a.omit(this.props.user,["isAdmin","imgUrl"]);return Object.keys(e)}},{key:"currentTime",get:function(){return O.greetByTime()}},{key:"render",value:function(){var e=this,t=this.state.isEdit,n=this.props.user;if(!n)return Object(Q.jsx)(D,{});var a=function(){return Object(Q.jsx)("ul",{className:"clean-list user-list-details flex column ",children:e.userKeys.map((function(e){return Object(Q.jsxs)("li",{className:"user-preview flex ",children:[Object(Q.jsx)("span",{children:le.a.lowerCase(e)}),Object(Q.jsx)("h4",{className:"user-value",children:n[e]})]},e)}))})},s=function(){return Object(Q.jsxs)("div",{className:"details-container  flex column",children:[Object(Q.jsx)("h3",{children:"Overview"}),Object(Q.jsx)(a,{}),Object(Q.jsx)("button",{onClick:e.toggleUserEditor,className:"btn-primary ",children:"Update details"})]})},c=function(){return Object(Q.jsxs)("div",{className:"hero-profile",children:[Object(Q.jsxs)("h1",{className:"hero-title",children:["Hello  ",n.fullName," , ",e.currentTime,"!"]}),Object(Q.jsx)("p",{className:"hero-paragraph",children:"Welcome to your personal profile, here you can see information about you as you have updated and you can update your personal details and adjust your personal settings."})]})},i=function(){return Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsx)("div",{className:"user-profile-img flex center-center",children:Object(Q.jsx)("img",{src:n.imgUrl||"/defualtImg.jpg",alt:"user img"})}),Object(Q.jsxs)("ul",{className:"clean-list nav-bar-menu-user flex column",children:[Object(Q.jsx)("li",{children:Object(Q.jsx)(j.b,{to:"/user/".concat(n._id),children:"Settings"})}),Object(Q.jsx)("li",{children:Object(Q.jsx)(j.b,{to:"/user/".concat(n._id),children:"Settings"})}),Object(Q.jsx)("li",{children:Object(Q.jsx)(j.b,{to:"/app/mixes",children:"Mixes"})})]})]})};return Object(Q.jsx)("section",{className:"user-profile ",children:Object(Q.jsxs)("div",{className:"user-profile-grid-container",children:[Object(Q.jsx)("header",{className:"header-profile",children:Object(Q.jsx)(c,{})}),Object(Q.jsx)("nav",{className:"nav-bar-profile",children:Object(Q.jsx)(i,{})}),Object(Q.jsx)("main",{className:"main-content",children:t&&Object(Q.jsx)(ye,{toggleUserEditor:this.toggleUserEditor})||Object(Q.jsx)(s,{})})]})})}}]),n}(r.Component);var we=Ne=Object(h.b)((function(e){return{user:e.userReducer.loggedInUser}}))(Ne);n(96),n(97),n(98);function ke(e){var t=e.songPlayed,n=e.song,r=e.updateMix,a=e.isUserAdmin,s=e.idx,c=e.loadSong,i=e.isInAddSongs,o=e.addSongToMix,l=s+1,u=(null===t||void 0===t?void 0:t.id)===n.id;return Object(Q.jsxs)("section",{className:"song-preview-container flex align-center",children:[Object(Q.jsxs)("li",{className:"song-preview flex space-between",children:[Object(Q.jsxs)("div",{onClick:function(){return i?o(n):c(n)},className:"song-details flex align-center ".concat(u?"played-song":""),children:[!i&&Object(Q.jsx)("span",{className:"song-number",children:l}),!i&&Object(Q.jsx)("i",{className:"song-preview-icon fas fa-".concat(u?"pause":"play")}),Object(Q.jsx)("img",{className:"img-song",src:n.imgUrl,alt:"img song"}),Object(Q.jsx)("span",{className:"song-name",children:n.title}),Object(Q.jsx)("span",{className:"song-duration",children:n.duration})]}),Object(Q.jsx)("div",{className:"song-controls flex align-center",children:!i&&a&&Object(Q.jsx)("i",{onClick:function(){return r(n.id)},className:"song-preview-icon-remove fas fa-times"})})]}),i&&Object(Q.jsx)("button",{className:"add-song-btn",onClick:function(){return o(n)},children:Object(Q.jsx)("i",{className:"fas fa-plus"})})]})}function Se(e){var t=e.songPlayed,n=e.songs,r=e.updateMix,a=e.isUserAdmin,s=e.loadSong,c=e.isInAddSongs,i=e.addSongToMix;return Object(Q.jsx)("ul",{className:"song-list clean-list flex column",children:0===n.length&&Object(Q.jsx)(de,{})||n.map((function(e,n){return Object(Q.jsx)(ke,{loadSong:s,songPlayed:t,updateMix:r,isUserAdmin:a,song:e,isInAddSongs:c,addSongToMix:i,idx:n},e.id)}))})}n(99);var Ae=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isEdit:!1},e.toggleEdit=function(){(e.props.user.isAdmin||e.props.createdBy._id===e.props.user._id)&&e.setState((function(e){return{isEdit:!e.isEdit}}))},e.save=function(t,n){(0,e.props.updateMix)(t,n),e.toggleEdit()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.mix,r=t.createdBy,a=t.songs,s=t.removeMix,c=t.user,i=this.state.isEdit;return Object(Q.jsxs)("div",{className:"mix-header flex relative",children:[Object(Q.jsx)("img",{className:"img-mix",src:n.imgUrl,alt:"mix img"}),Object(Q.jsxs)("div",{className:"mix-header-content flex column ",children:[Object(Q.jsx)("h2",{contentEditable:i,onBlur:function(t){return e.save("name",t.target.innerText)},suppressContentEditableWarning:!0,className:"mix-name ".concat(i&&"editable"),children:n.name}),Object(Q.jsx)("h3",{contentEditable:i,onBlur:function(t){return e.save("description",t.target.innerText)},suppressContentEditableWarning:!0,className:"mix-description ".concat(i&&"editable"),children:n.description}),Object(Q.jsxs)("h4",{className:"mix-created-by",children:[Object(Q.jsx)("span",{children:"created by:"}),r.fullName]}),Object(Q.jsx)("div",{className:"mix-genre",children:!i&&n.genre||Object(Q.jsx)(_,{selectedVal:n.genre,save:this.save})}),Object(Q.jsxs)("p",{className:"mix-info ",children:[Object(Q.jsxs)("span",{className:"mix-likes",children:[n.likes," Likes"]}),Object(Q.jsxs)("span",{className:"mix-number-songs",children:[" , ",a.length," songs"]}),Object(Q.jsxs)("span",{className:"mix-number-views",children:[", ",n.views," Views."]})]})]}),(c._id===r._id||c.isAdmin)&&Object(Q.jsxs)("div",{className:"btn-controls-container flex column",children:[Object(Q.jsx)("i",{onClick:function(){return s(n._id)},className:"btn-delete  icon fas fa-times"}),Object(Q.jsx)("i",{onClick:function(){return e.toggleEdit()},className:"btn-edit-icon icon fas fa-pen"})]})]})}}]),n}(r.Component),Ue=(n(100),n(101),"AIzaSyDztRVkKE-RMM_trTaVJr86X2iRBDI0MGQ"),Ce="https://www.googleapis.com/youtube/v3/search",Me="https://www.googleapis.com/youtube/v3/videos",Ee={getSongs:function(e){return Re.apply(this,arguments)},getSongDuration:function(e){return Te.apply(this,arguments)}};function Re(){return(Re=Object(b.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(Ce,"?part=snippet&videoEmbeddable=true&type=video&key=").concat(Ue,"&q=").concat(t));case 2:return n=e.sent,r=(r=n.data.items).map((function(e){return Ie(e)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(b.a)(x.a.mark((function e(t){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat(Me,"?id=").concat(t,"&part=contentDetails&key=").concat(Ue));case 2:return n=e.sent,r=Be(r=n.data.items[0].contentDetails.duration),r=O.showTime(r),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){var t=0,n=0,r=0;if((e=e.replace("PT","")).indexOf("H")>-1){var a=e.split("H");t=parseInt(a[0]),e=a[1]}if(e.indexOf("M")>-1){var s=e.split("M");n=parseInt(s[0]),e=s[1]}if(e.indexOf("S")>-1){var c=e.split("S");r=parseInt(c[0])}return 60*t*60+60*n+r}function Ie(e){return{title:e.snippet.title,id:O.makeId(),youtubeId:e.id.videoId,imgUrl:e.snippet.thumbnails.default.url,duration:""}}var Le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={searchTerm:"",songs:null},e.handleInputChange=function(t){e.setState({searchTerm:t.target.value})},e.getSongs=Object(b.a)(x.a.mark((function t(){var n,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.searchTerm){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Ee.getSongs(n);case 5:if(r=t.sent){t.next=8;break}return t.abrupt("return");case 8:e.setState({songs:r});case 9:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.songs,t=this.props,n=t.addSongToMix,r=t.closeModal;return Object(Q.jsxs)("section",{className:"add-song flex column align-center",children:[Object(Q.jsx)("i",{onClick:r,className:"fas close-btn fa-times"}),Object(Q.jsxs)("div",{className:"search-container flex",children:[Object(Q.jsx)("input",{className:"search-input",type:"search",onInput:this.handleInputChange,placeholder:"search songs..."}),Object(Q.jsx)("button",{className:"search-btn",onClick:this.getSongs,children:"Search"})]}),e&&Object(Q.jsx)("div",{className:"song-list-container",children:Object(Q.jsx)(Se,{songs:e,isInAddSongs:!0,addSongToMix:n})})]})}}]),n}(r.Component);function Xe(e){var t=e.isLike,n=e.setSearch,a=e.pathName,s=e.like,c=e.unLike,i=e.addSongToMix,o=window.location.origin+a,l="https://api.whatsapp.com/send/?phone&text=Hi+there+check+this+great+mix+on+the+new+musixApp+".concat(o),u=Object(r.useState)(!1),d=Object(m.a)(u,2),p=d[0],j=d[1];return Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsxs)("div",{className:"mix-actions  flex space-between align-center",children:[Object(Q.jsxs)("div",{className:"mix-controls flex align-center",children:[Object(Q.jsx)("i",{onClick:function(){return j(!0)},className:"mix-control-icon fas fa-plus"}),Object(Q.jsx)("div",{className:"search-container-controls",children:Object(Q.jsx)(fe,{placeholderTxt:"Search songs...",setSearch:n})})]}),Object(Q.jsxs)("div",{className:"mix-social flex align-center",children:[Object(Q.jsx)("i",{onClick:function(){return t?c():s()},className:"mix-control-icon mix-icon-like".concat(t&&"-active"," fa").concat(t?"s":"r"," fa-heart")}),Object(Q.jsx)("a",{className:"clean-a",href:"https://facebook.com/sharer/sharer.php?u=".concat(o),children:Object(Q.jsx)("i",{className:"mix-control-icon fab fa-facebook"})}),Object(Q.jsx)("a",{className:"clean-a",href:l,children:Object(Q.jsx)("i",{className:"mix-control-icon fab fa-whatsapp"})})]})]}),p&&Object(Q.jsx)(Le,{closeModal:function(){j(!1)},addSongToMix:i}),p&&Object(Q.jsx)("div",{className:"back-drop-layer",onClick:function(){return j(!1)}})]})}n(102);function Fe(e){return function(t){try{t({type:"SET_SONGS",songs:e})}catch(n){throw console.error("ERROR: CANNOT LOAD SONGS"),n}}}function Ve(e){return function(t){try{t({type:"SET_SONG",song:e})}catch(n){throw console.error("ERROR: CANNOT LOAD SONG"),n}}}var qe=n(46),Pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={volume:5,isPlaying:!1,youtubePlayer:null,timeLeft:0,isMobile:!1},e.onReady=function(t){t.target.isMuted()&&t.target.unMute(),t.target.playVideo(),e.state.isPlaying||e.toggleIsPlaying(),e.state.isMobile&&(e.state.isPlaying&&e.toggleIsPlaying(),t.target.pauseVideo()),e.setState({youtubePlayer:t.target},e.getTimeLeft)},e.getTimeLeft=function(){var t=e.state,n=t.youtubePlayer;t.isPlaying;n&&(e.gInterval=setInterval((function(){var t=n.getCurrentTime();e.duration===t&&0!==e.duration&&e.changeSong("next"),e.setState({timeLeft:t})}),1e3))},e.toggleIsPlaying=function(){e.setState((function(e){return{isPlaying:!e.isPlaying}}))},e.changeSong=function(t){var n=e.props,r=n.song,a=n.songs,s=n.loadSong,c=a.findIndex((function(e){return e.id===r.id})),i=a.length-1;"next"===t?(c===i&&(c=-1),s(a[c+1])):(0===c&&(c=i+1),s(a[c-1]));e.state.isPlaying||e.toggleIsPlaying(),e.setState({timeLeft:0})},e.changeVolume=function(t){var n=t.target,r=e.state.youtubePlayer;e.setState({volume:n.value},(function(){r.setVolume(e.state.volume)}))},e.handleSong=function(t){var n=e.state.youtubePlayer;"pause"===t?(n.pauseVideo(),e.toggleIsPlaying()):(n.playVideo(),e.toggleIsPlaying())},e.changeTime=function(t){var n=t.target.value,r=e.state.youtubePlayer;e.setState({timeLeft:n},(function(){r.seekTo(e.state.timeLeft)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.outerWidth<820&&this.setState((function(e){return{isMobile:!e.isMobile}}))}},{key:"componentDidUpdate",value:function(e,t){var n=e.song;this.props.song&&n&&(n.title===this.props.song.title||this.state.isPlaying||this.toggleIsPlaying())}},{key:"componentWillUnmount",value:function(){clearInterval(this.gInterval)}},{key:"timeLeft",get:function(){var e=this.state.timeLeft;return 0!==e&&e?O.showTime(e):"00:00"}},{key:"duration",get:function(){var e=this.state.youtubePlayer;return e?e.getDuration():0}},{key:"render",value:function(){var e,t=this,n=this.props.song,a=this.state,s=a.isPlaying,c=a.timeLeft;return n?Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsxs)("section",{className:"player flex align-center space-between",children:[Object(Q.jsxs)("div",{className:"volume-container flex align-center",children:[Object(Q.jsx)("i",{className:"fas grey-icon fa-volume"}),Object(Q.jsx)("input",{className:"slider-duration volume-slider",type:"range",value:this.volume,name:"volume",min:"0",step:"1",max:"100",onChange:this.changeVolume})]}),Object(Q.jsxs)("div",{className:"song-control flex column align-center",children:[Object(Q.jsxs)("div",{className:"btns-player-control flex space-around",children:[Object(Q.jsx)("button",{onClick:function(){return t.changeSong("prev")},className:"prev-song-btn",children:Object(Q.jsx)("i",{className:"fas fa-arrow-to-left"})}),Object(Q.jsx)("button",{onClick:function(){return s?t.handleSong("pause"):t.handleSong("play")},className:"play-song-btn flex center-center",children:Object(Q.jsx)("i",{className:"fas fa-".concat(s?"pause":"play")})}),Object(Q.jsx)("button",{onClick:function(){return t.changeSong("next")},className:"next-song-btn",children:Object(Q.jsx)("i",{className:"fas fa-arrow-to-right"})})]}),Object(Q.jsxs)("div",{className:"song-duration-slider flex align-center",children:[Object(Q.jsx)("span",{className:"grey-icon count-time",children:this.timeLeft}),Object(Q.jsx)("input",(e={className:"slider-duration duration-slider",type:"range",name:"played",value:c||0},Object(g.a)(e,"name","timeLeft"),Object(g.a)(e,"min","0"),Object(g.a)(e,"max",this.duration),Object(g.a)(e,"onChange",this.changeTime),e)),Object(Q.jsx)("span",{className:"grey-icon song-duration",children:n.duration})]})]}),Object(Q.jsxs)("div",{className:"song-container flex align-center",children:[Object(Q.jsx)("button",{className:"like-song",children:Object(Q.jsx)("i",{className:"far fa-heart"})}),Object(Q.jsx)("span",{className:"song-name",children:n.title}),Object(Q.jsx)("img",{className:"song-img",src:n.imgUrl,alt:"song-img"})]})]}),Object(Q.jsx)(qe.a,{containerClassName:"hidden",videoId:n.youtubeId,opts:{height:"0",width:"0",playerVars:{autoplay:1,playsinline:1}},onReady:this.onReady})]}):null}}]),n}(r.Component);var Qe={loadSong:Ve,loadSongs:Fe},De=Pe=Object(h.b)((function(e){return{song:e.playerReducer.song,songs:e.playerReducer.songs}}),Qe)(Pe),Ke=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={filterBySong:null},e.loadMix=Object(b.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.loadMix(e.props.match.params.id);case 2:if(e.props.loadSongs(e.props.mix.songs),e.props.loadSong(e.props.mix.songs[0]),e.props.mixes){t.next=7;break}return t.next=7,e.props.loadMixes();case 7:case"end":return t.stop()}}),t)}))),e.likeByUser=function(){var t=Object(i.a)({},e.props.mix),n=E.getMiniUser(),r=t.likedByUsers;if(!r.find((function(e){return e._id===n._id}))){var a=[].concat(Object(ie.a)(r),[n]);e.updateMix("likedByUsers",a)}},e.unLikeByUser=function(){var t=Object(i.a)({},e.props.mix),n=E.getMiniUser(),r=t.likedByUsers.filter((function(e){return e._id!==n._id}));e.updateMix("likedByUsers",r)},e.updateMix=function(){var t=Object(b.a)(x.a.mark((function t(n,r){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(i.a)({},e.props.mix))[n]=r,t.prev=2,t.next=5,e.props.updateMix(a);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.log("ERR",t.t0);case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}(),e.removeSong=function(t){var n=Object(i.a)({},e.props.mix).songs.filter((function(e){return e.id!==t}));e.updateMix("songs",n)},e.addSongToMix=function(){var t=Object(b.a)(x.a.mark((function t(n){var r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(i.a)({},e.props.mix),!r.songs.find((function(e){return e.youtubeId===n.youtubeId}))){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Ee.getSongDuration(n.youtubeId);case 6:n.duration=t.sent,a=[].concat(Object(ie.a)(r.songs),[n]),e.updateMix("songs",a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadSongToPlayer=function(t){e.props.loadSong(t)},e.removeMix=function(){var t=Object(b.a)(x.a.mark((function t(n){var r,a,s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,a=r.removeMix,s=r.history,c=r.loadMixes,t.prev=1,t.next=4,a(n);case 4:return t.next=6,c();case 6:s.push("/app/mix"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("ERR",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),e.filterBySong=function(t){e.setState({filterBySong:t})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadMix()}},{key:"componentWillUnmount",value:function(){this.props.loadMix(void 0)}},{key:"songsToShow",get:function(){var e=this.state.filterBySong,t=this.props.mix.songs;return e?t.filter((function(t){return O.findMatchLowerCase(t.title,e)})):t}},{key:"isLike",get:function(){var e=this.props,t=e.mix,n=e.user;return t.likedByUsers.some((function(e){return e._id===n._id}))}},{key:"render",value:function(){var e=this.props,t=e.mix,n=e.user,a=e.songPlayed;if(!t)return Object(Q.jsx)(D,{});var s=t.createdBy,c=t.songs;return Object(Q.jsxs)(r.Fragment,{children:[Object(Q.jsxs)("section",{className:"mix-details",children:[Object(Q.jsx)("div",{className:"grid grid-header",children:Object(Q.jsx)(Ae,{user:n,updateMix:this.updateMix,removeMix:this.removeMix,mix:t,createdBy:s,songs:c})}),Object(Q.jsx)("div",{className:"grid grid-action",children:Object(Q.jsx)(Xe,{isLike:this.isLike,like:this.likeByUser,unLike:this.unLikeByUser,pathName:this.props.history.location.pathname,setSearch:this.filterBySong,addSongToMix:this.addSongToMix})}),Object(Q.jsx)("div",{className:"grid grid-content",children:Object(Q.jsx)(Se,{songPlayed:a||null,loadSong:this.loadSongToPlayer,isUserAdmin:n._id===s._id||n.isAdmin,updateMix:this.removeSong,songs:this.songsToShow})})]}),Object(Q.jsx)(De,{})]})}}]),n}(r.Component);var We={loadMix:function(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return",n({type:"SET_MIX",mix:null}));case 3:return t.next=5,V.getById(e);case 5:r=t.sent,n({type:"SET_MIX",mix:r}),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),console.error("ERROR: CANNOT LOAD MIX"),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},updateMix:function(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){var r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.save(e);case 3:r=t.sent,n({type:"UPDATE_MIX",mix:r}),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("ERROR: CANNOT UPDATE MIX"),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeMix:function(e){return function(){var t=Object(b.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.remove(e);case 3:n({type:"REMOVE_MIX",mixId:e}),t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("ERROR: CANNOT REMOVE MIX"),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},loadMixes:K,loadSongs:Fe,loadSong:Ve},_e=Object(h.b)((function(e){return{mix:e.mixReducer.mix,mixes:e.mixReducer.mixes,user:e.userReducer.loggedInUser,songPlayed:e.playerReducer.song}}),We)(Ke),Ge=(n(114),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={user:{email:"",password:"",fullName:""}},e.onChange=function(t){e.setState({user:Object(i.a)(Object(i.a)({},e.state.user),{},Object(g.a)({},t.target.name,t.target.value))})},e.loginGuestMode=function(){var t=Object(b.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.props.loginGuestMode();case 4:e.props.history.push("/app/mix"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log("unbale to login as a guest");case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),e.onLogin=function(){var t=Object(b.a)(x.a.mark((function t(n){var r,a,s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==e.state.email){t.next=3;break}return t.abrupt("return");case 3:return r=e.state.user,a=r.email,s=r.password,c={email:a,password:s},t.next=7,e.props.login(c);case 7:e.props.history.push("/app/mix");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.toggleIsSignup;return Object(Q.jsxs)("section",{className:"login flex column",children:[Object(Q.jsxs)("form",{className:"login-form flex column",children:["Email",Object(Q.jsx)("input",{type:"string",placeholder:"Enter email",name:"email",value:this.state.user.email,onChange:this.onChange}),"Password",Object(Q.jsx)("input",{type:"password",placeholder:"Enter password",name:"password",value:this.state.user.password,onChange:this.onChange}),Object(Q.jsx)("button",{type:"submit",className:"signup-login-btn",onClick:this.onLogin,children:"Login"}),Object(Q.jsx)("button",{type:"guest",className:"signup-login-btn",onClick:this.loginGuestMode,children:"Try as Guest!"})]},"login-form"),Object(Q.jsxs)("div",{className:"signup-section flex column align-center",children:[Object(Q.jsx)("span",{className:"quest",children:"Don't you have an account yet?"}),Object(Q.jsx)("button",{onClick:e,className:"quest-btn",children:"Sign up now!"})]})]})}}]),n}(r.Component)),Je={login:H,loginGuestMode:Z},Ye=Ge=Object(h.b)((function(e){return{user:e.userReducer.loggedInUser}}),Je)(Ge),He=(n(115),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isSignup:!1,users:null,isUserModalShowen:!1,user:{email:"",password:"",fullName:"",isAdmin:!1,imgUrl:""}},e.toggleModal=function(){e.setState((function(e){return{isUserModalShowen:!e.isUserModalShowen}}))},e.onChange=function(t){e.setState({user:Object(i.a)(Object(i.a)({},e.state.user),{},Object(g.a)({},t.target.name,t.target.value))})},e.onSignup=function(){var t=Object(b.a)(x.a.mark((function t(n){var r,a,s,c,i,o,l;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==e.state.email&&""!==e.state.fullName&&""!==e.state.password){t.next=3;break}return t.abrupt("return");case 3:if(!e.state.users.find((function(t){return t.email===e.state.user.email}))){t.next=7;break}return e.toggleModal(),t.abrupt("return");case 7:return r=e.state.user,a=r.email,s=r.fullName,c=r.password,i=r.isAdmin,o=r.imgUrl,l={email:a,fullName:s,password:c,isAdmin:i,imgUrl:o},t.next=11,e.props.signup(l);case 11:e.props.history.push("/app");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.loadUsers();case 2:t=e.sent,this.setState({users:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=function(){return Object(Q.jsxs)("div",{className:"reject-modal flex column align-center justify-center",children:[Object(Q.jsx)("p",{children:"This email is already exists in the system,"}),Object(Q.jsx)("p",{children:"please register with another email"}),Object(Q.jsx)("button",{className:"cls-btn",onClick:e.toggleModal,children:"Ok"})]})},n=this.props.toggleIsSignup;return Object(Q.jsxs)("div",{className:"signup",children:[Object(Q.jsxs)("form",{className:"signup-form flex column",children:["Fullname",Object(Q.jsx)("input",{type:"string",placeholder:"Enter fullname",name:"fullName",value:this.state.user.fullName,onChange:this.onChange}),"Email",Object(Q.jsx)("input",{type:"string",placeholder:"Enter email",name:"email",value:this.state.user.email,onChange:this.onChange}),"Password",Object(Q.jsx)("input",{type:"password",placeholder:"Enter password",name:"password",value:this.state.user.password,onChange:this.onChange}),Object(Q.jsx)("button",{className:"signup-login-btn",onClick:this.onSignup,children:"Sign Up to Musix"})]},"sign-up-form"),Object(Q.jsxs)("div",{className:"login-section flex column align-center",children:[Object(Q.jsx)("span",{className:"quest",children:"Already have an account?"}),Object(Q.jsx)("button",{onClick:n,className:"quest-btn",children:"Login"})]}),this.state.isUserModalShowen&&Object(Q.jsx)(t,{})]})}}]),n}(r.Component)),ze={signup:z,loadUsers:function(){return function(){var e=Object(b.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.getUsers();case 3:return n=e.sent,t({type:"SET_USERS",users:n}),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("ERROR: CANNOT LOAD USERS"),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}},Ze=He=Object(h.b)((function(e){return{user:e.userReducer.loggedInUser,users:e.userReducer.users}}),ze)(He),$e=(n(116),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={isSignup:!1},e.toggleIsSignup=function(){e.setState((function(e){return{isSignup:!e.isSignup}}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isSignup;return Object(Q.jsxs)("section",{className:"sign-up flex column align-center",children:[Object(Q.jsx)("div",{className:"facebook-login",children:Object(Q.jsx)("button",{className:"facebook-btn",children:"Continue with Facebook"})}),Object(Q.jsxs)("div",{className:"sepertor-container flex align-center",children:[Object(Q.jsx)("span",{className:"separator-line"}),"Or",Object(Q.jsx)("span",{className:"separator-line"})]}),!e&&Object(Q.jsx)(Ye,{toggleIsSignup:this.toggleIsSignup,history:this.props.history})||e&&Object(Q.jsx)(Ze,{toggleIsSignup:this.toggleIsSignup,history:this.props.history})]})}}]),n}(r.Component)),et={login:H,signup:z},tt=$e=Object(h.b)((function(e){return{user:e.userReducer.loggedInUser}}),et)($e),nt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.user,t=function(t){return e?Object(Q.jsx)(p.b,Object(i.a)({},t)):Object(Q.jsx)(p.a,{to:"/signup"})};return Object(Q.jsx)("div",{className:"App",children:Object(Q.jsxs)(j.a,{children:[Object(Q.jsx)(ee,{}),Object(Q.jsx)("main",{children:Object(Q.jsxs)(p.d,{children:[Object(Q.jsx)(t,{path:"/app/mix/:id",component:_e}),Object(Q.jsx)(t,{path:"/app/mixes",component:ge}),Object(Q.jsx)(t,{path:"/app",component:he}),Object(Q.jsx)(p.b,{path:"/signup",component:tt}),Object(Q.jsx)(t,{path:"/user/:id",component:we}),Object(Q.jsx)(p.b,{path:"/",component:ce})]})}),Object(Q.jsx)(ae,{})]})})}}]),n}(r.Component);var rt=Object(h.b)((function(e){return{user:e.userReducer.loggedInUser}}))(nt),at=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function st(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},it=n(22),ot=n(49),lt={mixes:null,mix:null};var ut={loggedInUser:null,users:null};var dt={song:null,songs:null};var pt=Object(it.c)({mixReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MIXES":return Object(i.a)(Object(i.a)({},e),{},{mixes:t.mixes});case"SET_MIX":return Object(i.a)(Object(i.a)({},e),{},{mix:t.mix});case"REMOVE_MIX":return Object(i.a)(Object(i.a)({},e),{},{mixes:e.mixes.filter((function(e){return e._id!==t.mixId})),mix:null});case"ADD_MIX":return Object(i.a)(Object(i.a)({},e),{},{mixes:[].concat(Object(ie.a)(e.mixes),[t.mix]),mix:t.mix});case"UPDATE_MIX":return Object(i.a)(Object(i.a)({},e),{},{mixes:e.mixes.map((function(e){return e._id===t.mix._id?t.mix:e})),mix:t.mix});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{loggedInUser:t.user});case"SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});default:return e}},playerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SONG":return Object(i.a)(Object(i.a)({},e),{},{song:t.song});case"SET_SONGS":return Object(i.a)(Object(i.a)({},e),{},{songs:t.songs});default:return e}}}),jt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||it.d,mt=Object(it.e)(pt,jt(Object(it.a)(ot.a)));c.a.render(Object(Q.jsx)(a.a.StrictMode,{children:Object(Q.jsx)(h.a,{store:mt,children:Object(Q.jsx)(rt,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");at?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):st(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):st(t,e)}))}}(),ct()},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},62:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.8c123e5f.chunk.js.map